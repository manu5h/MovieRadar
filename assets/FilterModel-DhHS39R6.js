import{r as N,j as a,A as v,b as A}from"./index-COGVxfCU.js";function F({onClose:s,SearchAPI:g,selectedFilters:h,updatePageCount:f}){const[i,p]=N.useState({genre:"",language:""}),d=[{id:28,name:"Action"},{id:35,name:"Comedy"},{id:18,name:"Drama"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],o=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"hi",name:"Hindi"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"ru",name:"Russian"},{code:"zh",name:"Chinese"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"ar",name:"Arabic"},{code:"pt",name:"Portuguese"},{code:"si",name:"Sinhala"}],b=e=>{let n=`https://api.themoviedb.org/3/discover/movie?api_key=${A}&include_adult=false`;return e.genre&&(n+=`&with_genres=${e.genre}`),e.language&&(n+=`&with_original_language=${e.language}`),n},j=()=>{const e=b(i);fetch(`${e}&page=500`).then(n=>{if(!n.ok)throw new Error("Error fetching data from TMDB");return n.json()}).then(n=>{var m,u;const t=n.total_pages;f(t),v.Search_URL=e,g(e);const x=((m=d.find(r=>r.id===i.genre))==null?void 0:m.name)||"",y=((u=o.find(r=>r.code===i.language))==null?void 0:u.name)||"";h({genre:x,language:y}),s()}).catch(n=>{console.error("Error fetching data:",n)})},c=(e,n)=>{p(t=>({...t,[e]:t[e]===n?"":n}))},l=!i.genre&&!i.language;return a.jsx("div",{className:"filter-model-overlay",children:a.jsxs("div",{className:"filter-model-container",children:[a.jsx("button",{className:"close-button",onClick:s,children:"âœ•"}),a.jsx("h2",{children:"Filter Movies"}),a.jsxs("div",{className:"filter-group",children:[a.jsx("h3",{children:"Genre"}),a.jsx("div",{className:"filter-buttons",children:d.map(e=>a.jsx("button",{className:`filter-button ${i.genre===e.id?"selected":""}`,onClick:()=>c("genre",e.id),children:e.name},e.id))})]}),a.jsxs("div",{className:"filter-group",children:[a.jsx("h3",{children:"Language"}),a.jsx("div",{className:"filter-buttons",children:o.map(e=>a.jsx("button",{className:`filter-button ${i.language===e.code?"selected":""}`,onClick:()=>c("language",e.code),children:e.name},e.code))})]}),a.jsx("button",{className:`apply-button ${l?"disabled":""}`,onClick:j,disabled:l,children:"Apply Filters"})]})})}export{F as default};
