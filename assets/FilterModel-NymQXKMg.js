import{r as N,j as n,A as v,b as A}from"./index-Dv6Ujd3o.js";function k({onClose:r,SearchAPI:g,selectedFilters:h,updatePageCount:f}){const[i,p]=N.useState({genre:"",language:""}),o=[{id:28,name:"Action"},{id:35,name:"Comedy"},{id:18,name:"Drama"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],s=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"hi",name:"Hindi"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"ml",name:"Malayalam"},{code:"kn",name:"Kannada"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"ru",name:"Russian"},{code:"zh",name:"Chinese"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"ar",name:"Arabic"},{code:"pt",name:"Portuguese"},{code:"si",name:"Sinhala"}],b=e=>{let a=`https://api.themoviedb.org/3/discover/movie?api_key=${A}&include_adult=false`;return e.genre&&(a+=`&with_genres=${e.genre}`),e.language&&(a+=`&with_original_language=${e.language}`),a},j=()=>{const e=b(i);fetch(`${e}&page=500`).then(a=>{if(!a.ok)throw new Error("Error fetching data from TMDB");return a.json()}).then(a=>{var m,u;const t=a.total_pages;f(t),v.Search_URL=e,g(e);const x=((m=o.find(d=>d.id===i.genre))==null?void 0:m.name)||"",y=((u=s.find(d=>d.code===i.language))==null?void 0:u.name)||"";h({genre:x,language:y}),r()}).catch(a=>{console.error("Error fetching data:",a)})},c=(e,a)=>{p(t=>({...t,[e]:t[e]===a?"":a}))},l=!i.genre&&!i.language;return n.jsx("div",{className:"filter-model-overlay",children:n.jsxs("div",{className:"filter-model-container",children:[n.jsx("button",{className:"close-button",onClick:r,children:"âœ•"}),n.jsx("h2",{children:"Filter Movies"}),n.jsxs("div",{className:"filter-group",children:[n.jsx("h3",{children:"Genre"}),n.jsx("div",{className:"filter-buttons",children:o.map(e=>n.jsx("button",{className:`filter-button ${i.genre===e.id?"selected":""}`,onClick:()=>c("genre",e.id),children:e.name},e.id))})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("h3",{children:"Language"}),n.jsx("div",{className:"filter-buttons",children:s.map(e=>n.jsx("button",{className:`filter-button ${i.language===e.code?"selected":""}`,onClick:()=>c("language",e.code),children:e.name},e.code))})]}),n.jsx("button",{className:`apply-button ${l?"disabled":""}`,onClick:j,disabled:l,children:"Apply Filters"})]})})}export{k as default};
